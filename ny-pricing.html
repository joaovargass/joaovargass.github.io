<!DOCTYPE HTML>
<!--
	Massively by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>NYC Housing</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
				<header id="header">
					<a href="index.html" class="logo">Portfolio</a>
				</header>

				<!-- Nav -->
				<nav id="nav">
					<ul class="links">
						<li><a href="index.html">Main Page</a></li>
						<li class="dropdown active">
							<a href="projects.html">Projects</a>
							<div class="dropdown-content">
							  <a class="dropdown-link" href="first-party-data.html">First-Party Data</a>
							  <a class="dropdown-link" href="ny-pricing.html">NYC Housing</a>
							  <a class="dropdown-link" href="projects.html">All Projects</a>
							</div>
						</li>

						<li><a href="resume.html">Résumé</a></li>
					</ul>
					<ul class="icons">
						<li><a href="https://www.linkedin.com/in/joaovargass/" class="icon brands fa-linkedin"><span class="label">LinkedIn</span></a></li>
						<li><a href="https://github.com/joaovargass" class="icon brands fa-github"><span class="label">GitHub</span></a></li>
					</ul>
				</nav>

				<!-- Main -->
				<div id="main">

					<!-- Post -->
						<section class="post">
							<header class="major">
								<span class="date">February 9th, 2024</span>
								<h1>New York City<br />
								Airbnb pricing analysis <br />
								and prediction</h1>
								<p>This project examines the extensive dataset of New York City Airbnb listings. Exploratory data analysis is conducted to 
									identify patterns and trends in host demographics, property availability, and key metrics. Additionally, prediction 
									algorithms are utilized to estimate rental prices based on factors such as location, property type, and amenities. 
									The objective is to offer valuable insights for hosts, guests, and stakeholders in the tourism industry, aiding in 
									pricing strategies and investment decisions within the dynamic NYC Airbnb market.</p>
							</header>
							<div class="image main"><img src="images/NYC.jpg" alt="NYC" /></div>

							<h2>Context</h2>
							<p>
								Airbnb has transformed the hospitality landscape, offering travelers unique accommodations and experiences
								 while empowering hosts to monetize their spaces. Analyzing Airbnb data provides valuable insights into market 
								 dynamics and informs decision-making for hosts, guests, and stakeholders. This project focuses on exploring the NYC 
								 Airbnb market and predicting rental prices to guide pricing strategies and investment decisions.
							</p>
							<h2>Content of the dataset</h2>
							<p>
								The dataset, sourced from Inside Airbnb, contains comprehensive information on NYC Airbnb listings. It includes 
								details on host demographics, property characteristics, geographical availability, and rental metrics. Each feature 
								provides valuable insights into the NYC Airbnb landscape, facilitating exploratory analysis and predictive modeling.
							</p>
							<h2>Acknowledgements</h2>
							<p>
								The dataset can be accessed on the <a href="http://insideairbnb.com/get-the-data/">Inside Airbnb website</a>. Users can 
								navigate the website to locate the NYC dataset and download it for analysis. The used dataset was a modified version of
								the original dataset mentioned provided by the company Indicium. Prior to analysis, data preprocessing and cleaning are 
								recommended to ensure the dataset is ready for exploratory analysis and predictive modeling.
							</p>
							<h2>Used technologies</h2>
							<p>
								In the analysis and prediction of trends within the NYC Airbnb listings dataset, Jupyter notebooks and essential Python 
								libraries such as pandas, matplotlib, seaborn, wordcloud, and scikit-learn were employed.
							</p>
							<hr/>
							
							<h2>Exploratory data analysis (EDA)</h2>
							<h3>Understanding the dataset</h3>
							<p>
								To carry out the exploratory data analysis, data from the dataset provided was investigated. The file has 48.894 rows and 
								16 columns. Each column is described below.
							</p>
							<ul>
								<li><b>id</b> - Acts as a unique key for each ad in the application data</li>
								<li><b>name</b> - Represents the name of the ad</li>
								<li><b>host_id</b> - Represents the id of the user who hosted the ad</li>
								<li><b>host_name</b> - Contains the name of the user who hosted the ad</li>
								<li><b>neighborhood_group</b> - Contains the name of the neighborhood where the ad is located</li>
								<li><b>neighborhood</b> - Contains the name of the area where the ad is located</li>
								<li><b>latitude</b> - Contains the latitude of the location</li>
								<li><b>longitude</b> - Contains the longitude of the location</li>
								<li><b>room_type</b> - Contains the type of room for each ad</li>
								<li><b>price</b> - Contains the price per night in dollars listed by the host</li>
								<li><b>minimum_nights</b> - Contains the minimum number of nights the user must book</li>
								<li><b>number_of_reviews</b> - Contains the number of comments given to each listing</li>
								<li><b>last_review</b> - Contains the date of the last revision given to the listing</li>
								<li><b>reviews_by_month</b> - Contains the number of reviews provided per month</li>
								<li><b>calculated_host_listings_count</b> - Contains the number of listings per host</li>
								<li><b>availability_365</b> - Contains the number of days the ad is available for booking</li>
							</ul>
							<p>
								It was then possible to check which variables are categorical and which are quantitative, as shown in the table below.
							</p>
							<!-- <div style="width: 100%; text-align: center;"> -->
								<div class="table-wrapper table_config">
									<table>
										<thead>
											<tr>
												<th style="text-align: center;">Categorical variables</th>
												<th style="text-align: center;">Quantitative variables</th>
											</tr>
										</thead>
										<tbody>
											<tr>
												<td>id</td>
												<td>latitude</td>
											</tr>
											<tr>
												<td>name</td>
												<td>longitude</td>
											</tr>
											<tr>
												<td>host_id</td>
												<td>price</td>
											</tr>
											<tr>
												<td>host_name</td>
												<td>minimum_nights</td>
											</tr>
											<tr>
												<td>neighborhood_group</td>
												<td>number_reviews</td>
											</tr>
											<tr>
												<td>neighborhood</td>
												<td>reviews_by_month</td>
											</tr>
											<tr>
												<td>room_type</td>
												<td>calculated_host_listings_count</td>
											</tr>
											<tr>
												<td></td>
												<td>availability_365</td>
											</tr>
											<tr>
												<td></td>
												<td>last_review</td>
											</tr>
										</tbody>
										<caption>
											Table 1: Classification of variables
										</caption>
									</table>
								</div>
								<p>
									Next, information related to the dataset was analyzed in order to understand its format and the quality of the data. 
									The characteristics analyzed were the number of unique entries in each column, the number of zero values in each 
									column and the number of duplicate rows. All these factors appeared to be normal, so there was no need to perform data 
									cleaning at this point.
								</p>
								<p>
									The distribution of the numerical variables was observed to get more information about the data. Table 2 was generated 
									containing statistical data for each column.
								</p>
								<div class="table-wrapper" style="text-align: center;">
									<table>
										<thead>
											<tr>
												<th style="text-align: center;"></th>
												<th style="text-align: center;">price</th>
												<th style="text-align: center;">availability_365</th>
												<th style="text-align: center;">minimum_nights</th>
												<th style="text-align: center;">number_of_reviews</th>
												<th style="text-align: center;">reviews_by_month</th>
											</tr>
										</thead>
										<tbody>
											<tr>
												<th>total</th>
												<td>48,894</td>
												<td>48,894</td>
												<td>48,894</td>
												<td>48,894</td>
												<td>38,842</td>
											</tr>
											<tr>
												<th>average</th>
												<td>152.72</td>
												<td>112.78</td>
												<td>7.03</td>
												<td>23.27</td>
												<td>1.37</td>
											</tr>
											<tr>
												<th>std</th>
												<td>240.15</td>
												<td>131.62</td>
												<td>20.51</td>
												<td>44.55</td>
												<td>1.68</td>
											</tr>
											<tr>
												<th>min</th>
												<td>0</td>
												<td>0</td>
												<td>1</td>
												<td>0</td>
												<td>0.01</td>
											</tr>
											<tr>
												<th>25%</th>
												<td>69</td>
												<td>0</td>
												<td>1</td>
												<td>1</td>
												<td>0.19</td>
											</tr>
											<tr>
												<th>50%</th>
												<td>106</td>
												<td>45</td>
												<td>3</td>
												<td>5</td>
												<td>0.72</td>
											</tr>
											<tr>
												<th>75%</th>
												<td>175</td>
												<td>227</td>
												<td>5</td>
												<td>24</td>
												<td>2.02</td>
											</tr>
											<tr>
												<th>max</th>
												<td>10,000</td>
												<td>365</td>
												<td>1.250</td>
												<td>629</td>
												<td>58.5</td>
											</tr>
										</tbody>
										<caption>Table 2: Statistical data for the selected columns</caption>
									</table>
								</div>
								<p>
									As you can see, the price and minimum_nights columns stand out. The price column has an average of 152.7, 
									but a maximum value of 10,000. It also has values equal to zero. With regard to the minimum_nights column, 
									its average is 7.03, but its maximum value is 1250. This leads us to conclude that there are outliers that 
									should be dealt with when cleaning the data.
								</p>
								<p>
									To visualize the distribution of the data, histogram-type graphs were plotted, showing once again that the 
									price and minimum_nights columns are poorly distributed. The histograms are shown in Figure 1 below. The 
									other columns appear to be correct according to interpretation.
								</p>
								<div class="image center"><img class="center" src="images/variables_statistics.png" alt="Variables statistics" /></div>
								<figcaption style="text-align: center">Figure 1: Histograms of the distributions of the quantitative variables</figcaption>
								<br/>

								<h3>Identifying outliers and data cleaning</h3>
								<p>
									To identify the outliers in the price and minimum_nights variables, boxenplot graphs were used, which are similar to boxplots, 
									but because they have more quantiles, it is possible to better analyze the distributions in the tail, where the outliers are 
									present. Firstly, the graph was plotted for price, where it was identified that from US$600 onwards, the values did not 
									contribute and could distort the analysis. They represent only 1.59% of all listings, and the values where the price is zero 
									only 0.02%. You can also see that more than 50% of the values are in the range of US$70 and US$110. A logarithmic scale 
									was used on the x-axis to make the visualization clearer. The boxenplot for price is shown in Figure 2.
								</p>
								<div class="image center"><img class="center" src="images/boxenplot_price.png" alt="Boxenplot price" /></div>
								<figcaption style="text-align: center">Figure 2: Boxenplot showing price distribution</figcaption>
								<p>
									The second box plot was the minimum number of nights, shown in Figure 3. It shows that 50% of the values are between 0 and 4 
									nights, and the values above 30 nights, which represent only 1.53% of the total listings, can influence the quality of the analysis.
								</p>
								<div class="image center"><img class="center" src="images/boxenplot_minimum_nights.png" alt="Boxenplot minimum number of nights" /></div>
								<figcaption style="text-align: center">Figure 3: Box plot showing the distribution of minimum nights</figcaption>
								<p>
									Once the outliers had been identified, the data was cleaned, generating a new table containing listings for prices other than 
									zero and less than US$600, as well as minimum nights of less than 30 days. To check that the data cleaning was effective, new 
									histograms were plotted for the variables in question, as shown in Figure 4. As you can see, the price and minimum nights 
									distributions are much clearer.
								</p>
								<div class="image center"><img class="center" src="images/variables_statistics_clean.png" alt="Variables statistics cleaned" /></div>
								<figcaption style="text-align: center">Figure 4: Histograms of the distributions of quantitative variables after data cleaning</figcaption>
								<br/>

								<h3>Room type analysis</h3>
								<p>
									Once the data has been cleaned, data analysis can begin. The first attribute to be analyzed is room type. In Figure 5, which 
									shows the percentage of listings for each type of room, you can see that the Entire home/apt category is the one with the most 
									listings, accounting for over 50% of them. This is followed by the Private room category, with approximately 48%, and finally 
									the Shared room category, with approximately 2%.
								</p>
								<div class="image center"><img class="center" src="images/room_type_percentage_listings.png" alt="Room type percentage of listings" /></div>
								<figcaption style="text-align: center">Figure 5: Bar graph of the percentage of listings for each type of room</figcaption>
								<p>
									The next graph in Figure 6 shows the average price of each type of room. The highest average price is in the Entire home/apt 
									category, with an average value of approximately US$185, followed by the Private room with an approximate value of US$80 and 
									finally the Shared room with an approximate value of US$65. With this, we can see that there is a big difference between the 
									value of an entire apartment/home and the other two categories.
								</p>
								<div class="image center"><img class="center" src="images/room_type_average_price.png" alt="Room type average price" /></div>
								<figcaption style="text-align: center">Figure 6: Bar graph showing the average price of each room type</figcaption>
								<p>
									The following graph, shown in Figure 7, shows the average number of minimum nights for each type of room. The type of room 
									that has the highest average is Entire home/apt, with almost 7 nights, followed by Shared room, with approximately 4.7 nights,
									and finally Private room, with an approximate average of 4.5 nights.
								</p>
								<div class="image center"><img class="center" src="images/room_type_minimum_nights.png" alt="Room type average minimum nights" /></div>
								<figcaption style="text-align: center">Figure 7: Bar graph showing the average minimum nights of each room type</figcaption>
								<br/>

								<h3>Neighborhood analysis</h3>
								<p>
									The next attribute to be analyzed was neighborhoods, where there are a total of 221 possible options. Because of the large 
									number of neighborhoods, it was decided to use only the neighborhoods that represent 80% of the listings, i.e. 36 neighborhoods. 
									Figure 8 shows the percentage of listings per neighborhood. It shows that the three neighborhoods with the highest number of 
									listings are Williamsburg, Bedford-Stuyvesant and Harlem, accounting for approximately 21% of all listings.
								</p>
								<div class="image center"><img class="center" src="images/neighborhoods_percentage_listings.png" alt="Percentage of total listings for each neighborhood" /></div>
								<figcaption style="text-align: center">Figure 8: Bar graph showing percentage of listings for each selected neighborhood</figcaption>
								<p>
									The average price of each neighborhood was also analyzed for the 36 selected neighborhoods, as shown in Figure 9. It can be seen 
									that the Tribeca, Neponsit and NoHo neighborhoods have the highest average values, reaching over US$250.
								</p>
								<div class="image center"><img class="center" src="images/neighborhoods_average_price.png" alt="Average price for each neighborhood" /></div>
								<figcaption style="text-align: center">Figure 9: Bar graph showing the average price for each selected neighborhood</figcaption>
								<p>
									The neighborhood groups were also analyzed to identify the average price in each neighborhood group. In Figure 10, you can 
									see that Manhattan has the highest average price of over US$160, almost double that of the Bronx. The neighborhoods that 
									follow and their respective approximate values are Brooklyn at US$110, Queens at US$95, Staten Island at US$90 and finally 
									the Bronx at US$80.
								</p>
								<div class="image center"><img class="center" src="images/neighborhoods_groups_average_price.png" alt="Average price for each neighborhood group" /></div>
								<figcaption style="text-align: center">Figure 10: Bar graph showing the average price for each neighborhood group</figcaption>
								<br/>

								<h3>Correlation between variables</h3>
								<p>
									To identify the relationship between certain variables, the correlation index was used. Correlations were calculated for the 
									following variables: price, minimum_nights, availability_365, number_of_reviews, reviews_per_month, host_id. A heat map containing 
									the correlation values between the variables was then plotted, as shown in Figure 11. It can be seen that they all have a low 
									correlation with each other. The only variables that have a significant level are the number_of_reviews and reviews_per_month, 
									which makes sense since one depends on the other. You can also see that the correlation between price and the other variables 
									is very low, showing that they don't interfere in setting the price.
								</p>
								<div class="image center"><img class="center" src="images/correlation_variables.png" alt="Correlation between variables" /></div>
								<figcaption style="text-align: center">Figure 11: Heat map of the correlations between the selected variables</figcaption>
								<br/>

								<h3>Spatial analysis</h3>
								<p>
									The next analysis was of the spatial distribution of ads by type of room and by neighborhood group. Figure 12 shows the 
									distribution of neighborhoods according to latitude and longitude, where you can see that the fewest ads are in the Bronx 
									and Staten Island, and the most ads are in the other three boroughs.
								</p>
								<div class="image center"><img class="center" src="images/neighborhoods_groups_spatial_distribution.png" alt="Spatial distribution neighborhood groups" /></div>
								<figcaption style="text-align: center">Figure 12: Scatter plot of ads by neighborhood group</figcaption>
								<p>
									In Figure 13, you can see that there are a large number of private room and apartment/house ads scattered around the city. 
									It also shows that there are few shared room listings in the dataset.
								</p>
								<div class="image center"><img class="center" src="images/room_type_spatial_distribution.png" alt="Spatial distribution room type" /></div>
								<figcaption style="text-align: center">Figure 13: Scatter plot of ads divided by room type</figcaption>
								<br/>
								
								<h3>Listings names analysis</h3>
								<p>
									Finally, the last analysis was of the ad names. As these are texts without defined formatting, the best way to identify 
									patterns is to use word clouds. This tool creates graphic representations based on words and their frequency of occurrence 
									in a text. The larger the word in the image, the more often it appears in the text. With this tool, it is possible to 
									identify the words that appear most often in ads. The analysis was carried out for high-value ads, over US$600, and the word 
									cloud in Figure 14 was generated. As you can see, some words do not represent patterns for higher-value ads, since they 
									are common words in real estate ads. Some words stand out when it comes to identifying high-priced ads, such as: luxury, 
									large, spacious, penthouse. These words are relevant and are common in higher-value ads.
								</p>
								<div class="image center"><img class="center" src="images/names_word_cloud.png" alt="Names word cloud" /></div>
								<figcaption style="text-align: center">Figure 14: Word cloud of the frequency of occurrence of words in the ad names</figcaption>
								<br/>

								<h2>Price prediction</h2>
								<p>
									Price forecasting can be seen as a regression problem, since the aim is to estimate a numerical value rather than a category. 
									Therefore, two regression algorithms were chosen: multiple linear regression and random forests.
								</p>
								<p>
									The two models were based on three categorical variables (neighborhood, neighborhood_group and room_type) and one quantitative 
									variable (price). These were chosen because, as shown in the exploratory data analysis, they have a direct effect on the price of 
									advertised properties. In order to use the categorical variables in the models to be built, it was necessary to create dummy variables.
								</p>
								<p>
									The performance measures chosen were root mean square error (RMSE) and the coefficient of determination of the test and training 
									datasets (R<sup>2</sup>). The RMSE was chosen because it provides an estimate of how well the model is able to predict the value in question, 
									and is used to assess accuracy. The coefficient of determination was chosen because it determines the proportion of the variance 
									in the dependent variable that can be explained by the dependent variable, i.e. how well the data fits the regression model.
								</p>

								<h3>Multiple linear regression</h3>
								<p>
									For the linear regression, the data was separated into test and training, with proportions of 20% and 80% respectively, 
									assigning the categorical variables to x and the price to y. With this, the model was trained and had a score of 0.43 
									when applied to the test dataset.
								</p>
								<p>
									To assess the model's performance, the measures mentioned above were calculated. The mean square error was 68.16. The 
									R<sup>2</sup> coefficient for testing and training was 0.43 and 0.41 respectively.
								</p>

								<h3>Random forests</h3>
								<p>
									For the random forests, the data was also separated into test and training, with proportions of 20% and 80% respectively, 
									assigning the categorical variables to x and the price to y. With this, the model was trained and had a score of 0.42 
									when applied to the test dataset.
								</p>
								<p>
									To assess the model's performance, the measures mentioned above were calculated. The mean square error was 68.46. The 
									R<sup>2</sup> coefficient for testing and training was 0.42 and 0.41 respectively.
								</p>
								
								<h3>Choosing the best model</h3>
								<p>
									Based on the results, you can choose the model that best matches the data. As you can see, the mean square error 
									values and the R<sup>2</sup> coefficients are similar for the two models, which shows that they are equivalent 
									in this type of classification.
								</p>
								<p>
									The model can also be chosen according to its characteristics. The advantages of using linear regression are 
									better interpretability and computational efficiency, making it suitable for smaller and less complex data sets. 
									The disadvantages are its possible rigid assumptions and sensitivity to outliers, limiting its applicability. 
									The advantages of the random forest algorithm are its high precision and robustness against outliers, dealing 
									well with non-linear and complex relationships in the data. Its disadvantages are that it is less interpretable 
									and may require adjustment of hyperparameters. Thus, for the case of this dataset, both models are effective.
								</p>

								<h3>Predicting a value</h3>
								<p>
									To make the price suggestion, the values were predicted using the models created. The information to be included 
									in the forecast is shown in the code snippet below.
								</p>
								<div class="code">
									<code>
										{'id': 2595, <br/>
										'name': 'Skylit Midtown Castle', <br/>
										'host_id': 2845, <br/>
										'host_name': 'Jennifer', <br/>
										'neighborhood_group': 'Manhattan', <br/>
										'borough': 'Midtown', <br/>
										'latitude': 40.75362, <br/>
										'longitude': -73.98377, <br/>
										'room_type': <br/>
										'Entire home/apt', <br/>
										'price': 225, <br/>
										'minimum_nights': 1, <br/>
										'number_of_reviews': 45, <br/>
										'last_review': '2019-05-21', <br/>
										'reviews_by_mes': 0.38, <br/>
										'calculated_host_listings_count': 2, <br/>
										'availability_365': 355} <br/>
									</code>
								</div>
								<p>
									The variables used were neighborhood, neighborhood group and room type. Applying these values to the algorithms resulted 
									in the prices US$252.94 and US$222.76 for the multiple linear regression and random forest models respectively. As you 
									can see, the value that comes closest to the real value is that of the random forest algorithm.
								</p>

						</section>
				</div>

				<!-- Footer -->
					<footer id="footer">
						<section>
							<form id="emailForms" method="post" action="https://formspree.io/f/xleqbqgo">
								<div class="fields">
									<div class="field">
										<label for="name">Name</label>
										<input type="text" name="name" id="name"/>
										<label class="required" id="nameValidation">Name field required</label>
									</div>
									<div class="field">
										<label for="email">Email</label>
										<input type="text" name="email" id="email"/>
										<label class="required" id="emailValidation"></label>
									</div>
									<div class="field">
										<label for="message">Message</label>
										<textarea name="message" id="message" rows="3"></textarea>
										<label class="required" id="messageValidation">Message field required</label>
									</div>
								</div>
								<ul class="actions">
									<li><input type="button" value="Send Message" onclick="validateForms()"/></li>
								</ul>
							</form>
						</section>
						<section class="split contact">
							<section class="alt">
								<h3>Address</h3>
								<p>Rua Artur de Azevedo, 1424<br />
								São Paulo, SP - Brazil</p>
							</section>
							<section>
								<h3>Phone</h3>
								<p><a href="https://wa.me/5527988770198">+55 (27) 98877-0198</a></p>
							</section>
							<section>
								<h3>Email</h3>
								<p><a href="mailto:joaovitorvargassoares@gmail.com">joaovitorvargassoares@gmail.com</a></p>
							</section>
							<section>
								<h3>Social</h3>
								<ul class="icons alt">
									<li><a href="https://www.linkedin.com/in/joaovargass/" class="icon brands fa-linkedin"><span class="label">LinkedIn</span></a></li>
									<li><a href="https://github.com/joaovargass" class="icon brands fa-github"><span class="label">GitHub</span></a></li>
								</ul>
							</section>
						</section>
					</footer>

				<!-- Copyright -->
					<div id="copyright">
						<ul><li>Design: <a href="https://html5up.net">HTML5 UP</a></li></ul>
					</div>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			<script src="assets/js/formValidation.js"></script>
	</body>
</html>